---
title: git基础命令
date: 2024-04-20 23:33:52
permalink: /pages/776643/
categories:
  - 基础命令
  - git
tags:
  - 
---
- Git是一个免费的、开源的分布式版本控制系统，可以高速处理从小型到大型的各种项目
## 下载安装
官网下载：[https://git-scm.com/downloads (opens new window)](https://git-scm.com/downloads)下载完成后使用默认进行安装。

## Git 创建仓库
创建一个git仓库有如下几种方式：
- **git init**：初始化一个git仓库
- **git clone**：clone一个git仓库
### git init (初始化仓库)
Git使用git init命令来初始化一个Git仓库，执行完git init命令后，会生成一个.git目录，该目录包含了资源数据，且只会在仓库的根目录生成。

如果用当前目录作为Git仓库，则只需要执行如下命令：
```bash
git init
```
执行该命令之后，就可以在当前目录下生成.init文件夹，并且会默认生成一个master分支。

如果要在指定的目录下生成仓库，则指令如下：
```bash
git init newDir
```
newDir为仓库的路径，执行完成之后，会在newDir目录下生成一个.git目录，执行该命令之后，就可以在当前目录下生成newtest文件夹，并在改文件夹下生成.init文件夹

### git clone (拷贝项目)
使用git clone命令可以从Git仓库拷贝项目
```bash
git clone <url> [directory]
```
url为git仓库地址，directory为本地目录，比如，要克隆某个Git 代码仓库，可以用下面的命令：
```bash
https://github.com/joblxs/docs-site.git newgit
```
 git clone 时，可以用不同的协议，包括 ssh, git, https 等
```bash
git clone git@github.com/joblxs/docs-site.git --SSH协议
git clone git://github.com/joblxs/docs-site.git --GIT协议
git clone https://github.com/joblxs/docs-site.git --HTTPS协议
```
## Git 基本指令的使用
- **git config**：配置信息
- **git add**：添加文件到缓存命令
- **git status**：查看文件的状态命令
- **git diff**：查看更新的详细信息命令
- **git commit**：提交命令
- **git reset HEAD**：取消缓存命令
- **git rm**：删除命令
- **git mv**：移动或重命名命令

### git config (配置信息)
通过git config来配置用户名和邮箱地址，便于我们将代码提交到远程仓库
```bash
git config --global user.name '你的用户名'
git config --global user.email '你的邮箱'
```
### git add (添加文件到暂存区)
将文件添加到缓存，如新项目中，添加所有文件
```bash
git add .
```
也可以指定某一类文件，如将java文件添加到缓存中
```bash
git add *.java
```
### git status (查看文件状态)
使用 git status 命令来查看相关文件的状态
```bash
git status
```
- 暂存文件的命令：**git add <文件名>**
- 放弃未暂存文件的修改命令：**git checkout – <文件名>**
- 将被修改的文件暂存并提交的命令：**git commit -a**
### git diff (查看更新信息)
执行 git diff 来查看更新的详细信息，与git status不同的是，git status只显示更新的状态，而 git diff 可以显示已写入缓存与已修改但尚未写入缓存的改动的区别具体的详细信息
```bash
git diff
```
- 尚未缓存的改动：**git diff**
- 查看已缓存的改动： **git diff --cached**
- 查看已缓存的与未缓存的所有改动：**git diff HEAD**
- 显示摘要而非整个 diff：**git diff --stat**
### git commit (提交到本地库)
git commit 将缓存区内容添加到仓库中，可以在后面加-m选项，以在命令行中提供提交注释
```bash
git commit -m "第一次版本提交"
git commit -am "第一次版本提交" // 跳过git add直接提交
```
### git reset HEAD (取消已缓存的内容)
用于取消已缓存的内容，如我们要取消已提交的test.txt文件，可以如下使用
```bash
git reset HEAD test.txt
```
执行完之后，再使用commit提交时，test.txt文件不会被提交。
### git rm (删除文件)
如果只是简单地从工作目录中手工删除文件，运行 git status 时就会在 Changes not staged for commit 的提示。要从 Git 中移除某个文件，就必须要从已跟踪文件清单中移除，然后提交。可以如下使用：
```bash
git rm <file>
```
如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项 -f
```bash
git rm -f <file>
```
如果把文件从暂存区域移除，但仍然希望保留在当前工作目录中，换句话说，仅是从跟踪清单中删除，使用 --cached 选项即可
```bash
git rm --cached <file>
```
可以递归删除，即如果后面跟的是一个目录做为参数，则会递归删除整个目录中的所有子目录和文件：
```bash
git rm –r *
```
### git mv (移动或重命名)
移动或重命名一个文件、目录、软连接
```bash
git mv test.txt newtest.txt
```
## Git的分支管理
- **git branch**：查看分支命令
- **git branch (branchname)**：创建分支命令
- **git checkout (branchname)**：切换分支命令
- **git merge**：合并分支命令
- **git branch -d (branchname)**：删除分支命令
### git branch (查看分支)
git branch可以查看分支，也可以创建分支，如果没有参数时，git branch会列出你在本地的分支；如果有参数时，git branch就会创建改参数的分支
```bash
git branch
git branch -d (branchname) //删除分支
```
当我们想创建分支时，可以在后面加参数，命令格式如下：
```bash
git branch branchname
```
### git checkout (切换分支)
git checkout可以切换分支，命令格式如下
```bash
git checkout branchname
git checkout -b (branchname) //创建新分支并立即切换到该分支下
```
### git merge (合并分支)
git merge命令可以将任意分支合并到到当前分支中去
```bash
git merge branchname
```
### git log (提交历史)
在使用 Git 提交了若干更新之后，又或者克隆了某个项目，想回顾下提交历史，我们可以使用 **git log** 命令查看，如，我们想列出历史提交记录如下：
```bash
git log
```
- **–oneline** ：查看历史记录的简洁版本
- **–graph** ：查看历史中什么时候出现了分支、合并
- **–reverse** ：逆向显示所有日志
- **–author** ：查找指定用户的提交日志
- **–since、–before、 --until、–after**： 指定筛选日期
- **–no-merges** ：选项以隐藏合并提交
## Git 远程仓库
- **git remote add**：添加远程仓库
- **git remote**：查看当前的远程仓库
- **git fetch**、**git pull**：提取远程仓库
- **git push**：推送到远程仓库
- **git remote rm**：删除远程仓库
### git remote add (添加远程仓库)
git remote add可以添加一个远程仓库
```bash
git remote add [alias] [url]

git remote add origin https://github.com/.../x...x.git
```
参数`alias`为别名， `url`为远程仓库的地址
### git remote (当前远程仓库)
git remote可以查看当前有哪些远程仓库
```bash
git remote
```
### git fetch(提取远程仓库)
**git fetch**可以提取远程仓库的数据，如果有多个远程仓库，我们可以在后面加仓库的别名
```bash
git fetch test
```
该命令执行完后需要执行git merge 远程分支到你所在的分支。假设你配置好了一个远程仓库，并且你想要提取更新的数据，你可以首先执行 git fetch `alias` 告诉 Git 去获取它有你没有的数据，然后你可以执行 git merge `alias`/`branch` 以将服务器上的任何更新（假设有人这时候推送到服务器了）合并到你的当前分支。
### git pull (拉取)
用于从另一个存储库或本地分支获取并集成(整合)，在默认模式下，git pull是git fetch后跟git merge FETCH_HEAD的缩写
```bash
git pull [options] [<repository> [<refspec>…]]
```
若无效果则尝试
```bash
git pull --rebase origin master
```
我们可以将远程仓库pull到本地，如果本地仓库和远程仓库实际上是独立的两个仓库，–allow-unrelated-history选项来解决。
- **git fetch**和**git pull**的区别：
1. git fetch：相当于是从远程获取最新版本到本地，不会自动合并。
2. git pull：相当于是从远程获取最新版本并merge到本地。
### git push (推送)
推送你的新分支与数据到某个远端仓库命令
```bash
git push [alias] [branch]
```
```bash
git push -u origin master
```
### git remote rm (删除远程仓库)
删除远程仓库
```bash
git remote rm [别名]
git push -u origin master
```